using UnityEngine;
using System.Collections;

public class LODGround : MonoBehaviour {
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
// 
// Level of Detail System ï¿½for the Ground Segments
// 
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
    
    public float dist_near = 600.0f;
    public float dist_far  = 2000000.0f;

    float obj_xpos;
    float obj_zpos;

    float dist_near_quad;
    float dist_far_quad;

//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
void Start() 
{
    Bounds bounding_box = GetComponent<Renderer>().bounds;

    obj_xpos = bounding_box.center.x;
    obj_zpos = bounding_box.center.z;

    dist_near_quad = dist_near * dist_near;
    dist_far_quad  = dist_far * dist_far;
}
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
void Update() 
{
    float distance = ((obj_xpos - Camera.main.transform.position.x) * (obj_xpos - Camera.main.transform.position.x)) + 
                     ((obj_zpos - Camera.main.transform.position.z) * (obj_zpos - Camera.main.transform.position.z));

    GetComponent<Renderer>().enabled = ( (distance >= (dist_near_quad)) && (distance < dist_far_quad) );
}
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------
}
