using UnityEngine;
using System.Collections;

public class LODSpecialCase : MonoBehaviour {
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
    
    public GameObject highDetailObject;

    GameObject obj;

    public float dist = 400.0f;

    float distFarQuad;

    Vector3 objPos;

//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
void Start()
{
    obj = (GameObject)Instantiate(highDetailObject);
    obj.transform.parent = gameObject.transform;
    obj.transform.localEulerAngles = Vector3.zero;
    obj.transform.localPosition = Vector3.zero;
    obj.name = "hiPoly";
    obj.SetActive(true);

    objPos = gameObject.transform.position;

    distFarQuad = dist * dist;
}
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
void LateUpdate()
{
    if(obj.GetComponent<Renderer>().enabled == true)
        GetComponent<Renderer>().enabled = false;
    else
        GetComponent<Renderer>().enabled = (objPos - Camera.main.transform.position).sqrMagnitude < distFarQuad;
}
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------
}
