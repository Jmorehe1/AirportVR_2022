using UnityEngine;
using System.Collections;

public class AmpelSteuerung : MonoBehaviour {
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------

    bool gruen; 

    float timer;
    float interval;

    GameObject ampel_gruen;
    GameObject ampel_rot;

//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
void Awake()
{
    ampel_gruen = transform.Find("ampel_gruen").gameObject;    
    ampel_rot   = transform.Find("ampel_rot").gameObject;    
}
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
void Start()
{
    timer = 0.0f;
    interval = 10.0f + Random.Range(1.0f, 5.0f);
    if(Random.Range(0, 2) == 0)
        gruen = true;

    if(gruen == true)
    {
        ampel_rot.SetActive(false);
        ampel_gruen.SetActive(true);
    }
    else
    {
        ampel_rot.SetActive(true);
        ampel_gruen.SetActive(false);
    }
}
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
void Update()
{
    timer+= Time.deltaTime * 1.0f;
    if(timer >= interval)
    {
        timer = 0.0f;

        gruen = !gruen;

        if(gruen == true)
        {
            ampel_rot.SetActive(false);
            ampel_gruen.SetActive(true);
        }
        else
        {
            ampel_rot.SetActive(true);
            ampel_gruen.SetActive(false);
        }
    }
}
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
}
